# This is a basic workflow to help you get started with Actions

name: hello-github-actions

# Controls when the workflow will run
on:
  workflow_dispatch:
  repository_dispatch:
  workflow_run:
    workflows: ["blank"]
    types:
      - completed

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  job1:
    uses: huatangli/hc-demo/.github/workflows/test.yml@main
  job2:
    runs-on: ubuntu-latest
    needs: job1
    steps:
      - run: |
          json='{
            "name": "John Doe",
            "age": 30,
            "city": "New York"
          }'
          
          # 解析JSON对象的属性
          name=$(echo $json | jq -r '.name')
          age=$(echo $json | jq -r '.age')
          city=$(echo $json | jq -r '.city')
          echo "Build result: ${{ needs.blank.outputs.firstword }}"
